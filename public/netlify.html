<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>YouTube Liked Videos Filter</title>
  <!-- ê¸°ì¡´ CSS íŒŒì¼ í¬í•¨ -->
  <link rel="stylesheet" href="/css/style.css">
  <!-- Netlify ë°°í¬ ì—¬ë¶€ í™•ì¸ìš© ë§ˆì»¤ -->
  <meta name="deployment-platform" content="netlify">
</head>
<body>
  <div class="container">
    <header>
      <h1>YouTube ì¢‹ì•„ìš” ì˜ìƒ í•„í„°</h1>
      <p>Netlifyì— ì„±ê³µì ìœ¼ë¡œ ë°°í¬ë˜ì—ˆìŠµë‹ˆë‹¤! ğŸš€</p>
    </header>
    
    <main>
      <div class="card">
        <h2>ë°°í¬ í™•ì¸ í˜ì´ì§€</h2>
        <p>ì´ í˜ì´ì§€ê°€ ë³´ì¸ë‹¤ë©´ Netlify ë°°í¬ê°€ ì„±ê³µì ìœ¼ë¡œ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.</p>
        <p>ì•„ë˜ ë²„íŠ¼ì„ í´ë¦­í•˜ì—¬ ë©”ì¸ í˜ì´ì§€ë¡œ ì´ë™í•˜ì„¸ìš”.</p>
        
        <div class="button-container">
          <a href="/" class="button primary">ë©”ì¸ í˜ì´ì§€ë¡œ ì´ë™</a>
        </div>
      </div>
      
      <div class="card">
        <h2>í™˜ê²½ ë³€ìˆ˜ í™•ì¸</h2>
        <p>ë‹¤ìŒ í™˜ê²½ ë³€ìˆ˜ê°€ ì˜¬ë°”ë¥´ê²Œ ì„¤ì •ë˜ì—ˆëŠ”ì§€ í™•ì¸í•˜ì„¸ìš”:</p>
        <ul id="env-vars">
          <li>DATABASE_URL: <span id="db-status">í™•ì¸ ì¤‘...</span></li>
          <li>CLIENT_ID: <span id="client-id-status">í™•ì¸ ì¤‘...</span></li>
          <li>CLIENT_SECRET: <span id="client-secret-status">í™•ì¸ ì¤‘...</span></li>
        </ul>
      </div>
    </main>
    
    <footer>
      <p>&copy; 2023 YouTube Liked Videos Filter</p>
    </footer>
  </div>

  <script>
    // í™˜ê²½ ë³€ìˆ˜ í™•ì¸ì„ ì‹œë®¬ë ˆì´ì…˜í•˜ëŠ” ìŠ¤í¬ë¦½íŠ¸
    // ì‹¤ì œë¡œëŠ” ì„œë²„ì¸¡ì—ì„œ í™•ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤
    document.addEventListener('DOMContentLoaded', async () => {
      // ì„œë²„ì— API ìš”ì²­ì„ ë³´ë‚´ ìƒíƒœ í™•ì¸
      try {
        const response = await fetch('/.netlify/functions/api/status');
        const data = await response.json();
        
        // ìƒíƒœì— ë”°ë¼ UI ì—…ë°ì´íŠ¸
        document.getElementById('db-status').textContent = data.database ? 'âœ… ì„¤ì •ë¨' : 'âŒ ì„¤ì • í•„ìš”';
        document.getElementById('client-id-status').textContent = data.googleOAuth.clientId ? 'âœ… ì„¤ì •ë¨' : 'âŒ ì„¤ì • í•„ìš”';
        document.getElementById('client-secret-status').textContent = data.googleOAuth.clientSecret ? 'âœ… ì„¤ì •ë¨' : 'âŒ ì„¤ì • í•„ìš”';
      } catch (error) {
        // ì˜¤ë¥˜ ë°œìƒ ì‹œ ëª¨ë“  ìƒíƒœë¥¼ í™•ì¸ í•„ìš”ë¡œ í‘œì‹œ
        document.getElementById('db-status').textContent = 'âŒ í™•ì¸ ì‹¤íŒ¨';
        document.getElementById('client-id-status').textContent = 'âŒ í™•ì¸ ì‹¤íŒ¨';
        document.getElementById('client-secret-status').textContent = 'âŒ í™•ì¸ ì‹¤íŒ¨';
        
        console.error('API ìƒíƒœ í™•ì¸ ì˜¤ë¥˜:', error);
      }
    });
  </script>
</body>
</html>